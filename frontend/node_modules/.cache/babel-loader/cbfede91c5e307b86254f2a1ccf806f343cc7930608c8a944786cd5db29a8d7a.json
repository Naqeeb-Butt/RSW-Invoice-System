{"ast":null,"code":"import _objectSpread from\"D:/Invoice System/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate,useParams}from'react-router-dom';import axios from'axios';import{Save,ArrowLeft,Building,Phone,Mail,MapPin}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ClientForm(){const navigate=useNavigate();const{id}=useParams();const isEditing=Boolean(id);const[loading,setLoading]=useState(false);const[formData,setFormData]=useState({name:'',email:'',phone:'',address:'',ntn:'',gst:'',vendor_code:''});useEffect(()=>{if(isEditing){fetchClient();}},[isEditing,id]);const fetchClient=async()=>{try{const response=await axios.get(\"/api/v1/clients/\".concat(id));const client=response.data;setFormData({name:client.name,email:client.email||'',phone:client.phone||'',address:client.address||'',ntn:client.ntn||'',gst:client.gst||'',vendor_code:client.vendor_code||''});}catch(error){console.error('Failed to fetch client:',error);}};const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);try{if(isEditing){await axios.put(\"/api/v1/clients/\".concat(id),formData);}else{await axios.post('/api/v1/clients',formData);}navigate('/clients');}catch(error){console.error('Failed to save client:',error);alert('Failed to save client. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/clients'),className:\"mr-4 text-gray-600 hover:text-gray-900\",children:/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:isEditing?'Edit Client':'Add Client'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:isEditing?'Update client information':'Add a new client to your system'})]})]})}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,className:\"max-w-2xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Building,{className:\"h-5 w-5 mr-2 text-aasko-blue\"}),\"Basic Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Client Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleInputChange,required:true,className:\"input-field\",placeholder:\"Enter client name\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,className:\"input-field\",placeholder:\"client@example.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phone\",value:formData.phone,onChange:handleInputChange,className:\"input-field\",placeholder:\"+1-555-0123\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Address\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"address\",value:formData.address,onChange:handleInputChange,rows:3,className:\"input-field\",placeholder:\"Enter client address\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Tax Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"NTN (National Tax Number)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ntn\",value:formData.ntn,onChange:handleInputChange,className:\"input-field\",placeholder:\"Enter NTN number\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"GST Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"gst\",value:formData.gst,onChange:handleInputChange,className:\"input-field\",placeholder:\"Enter GST number\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Vendor Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"vendor_code\",value:formData.vendor_code,onChange:handleInputChange,className:\"input-field\",placeholder:\"Enter vendor code\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 flex justify-end space-x-4 pt-6 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate('/clients'),className:\"btn btn-secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:loading,className:\"btn btn-primary flex items-center\",children:[/*#__PURE__*/_jsx(Save,{className:\"h-4 w-4 mr-2\"}),loading?'Saving...':isEditing?'Update Client':'Add Client']})]})]})})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}